{
	"name": "CopyPipeline",
	"properties": {
		"activities": [
			{
				"name": "Copy-Unprocessed",
				"type": "Copy",
				"dependsOn": [],
				"policy": {
					"timeout": "0.12:00:00",
					"retry": 0,
					"retryIntervalInSeconds": 30,
					"secureOutput": false,
					"secureInput": false
				},
				"userProperties": [
					{
						"name": "Source",
						"value": "https://services.nvd.nist.gov/rest/json/cves/2.0"
					},
					{
						"name": "Destination",
						"value": "cyber-threat-data/unprocessed/cyber-data"
					}
				],
				"typeProperties": {
					"source": {
						"type": "RestSource",
						"httpRequestTimeout": "00:01:40",
						"requestInterval": "00.00:00:00.010",
						"requestMethod": "GET"
					},
					"sink": {
						"type": "DelimitedTextSink",
						"storeSettings": {
							"type": "AzureBlobStorageWriteSettings"
						},
						"formatSettings": {
							"type": "DelimitedTextWriteSettings",
							"quoteAllText": true,
							"fileExtension": ".txt"
						}
					},
					"enableStaging": false,
					"validateDataConsistency": false,
					"translator": {
						"type": "TabularTranslator",
						"mappings": [
							{
								"source": {
									"path": "$['resultsPerPage']"
								},
								"sink": {
									"name": "resultsPerPage"
								}
							},
							{
								"source": {
									"path": "$['startIndex']"
								},
								"sink": {
									"name": "startIndex"
								}
							},
							{
								"source": {
									"path": "$['totalResults']"
								},
								"sink": {
									"name": "totalResults"
								}
							},
							{
								"source": {
									"path": "$['format']"
								},
								"sink": {
									"name": "format"
								}
							},
							{
								"source": {
									"path": "$['version']"
								},
								"sink": {
									"name": "version"
								}
							},
							{
								"source": {
									"path": "$['timestamp']"
								},
								"sink": {
									"name": "timestamp"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['id']"
								},
								"sink": {
									"name": "id"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['sourceIdentifier']"
								},
								"sink": {
									"name": "sourceIdentifier"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['published']"
								},
								"sink": {
									"name": "published"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['lastModified']"
								},
								"sink": {
									"name": "lastModified"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['vulnStatus']"
								},
								"sink": {
									"name": "vulnStatus"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['cveTags'][0]"
								},
								"sink": {
									"name": "items"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['descriptions'][0]['lang']"
								},
								"sink": {
									"name": "vulnerabilities'][0]['cve_descriptions'][0]['lang"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['descriptions'][0]['value']"
								},
								"sink": {
									"name": "vulnerabilities'][0]['cve_descriptions'][0]['value"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['source']"
								},
								"sink": {
									"name": "vulnerabilities'][0]['cve_metrics_cvssMetricV2'][0]['source"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['type']"
								},
								"sink": {
									"name": "vulnerabilities'][0]['cve_metrics_cvssMetricV2'][0]['type"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['cvssData']['version']"
								},
								"sink": {
									"name": "vulnerabilities'][0]['cve_metrics_cvssMetricV2'][0]['cvssData_version"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['cvssData']['vectorString']"
								},
								"sink": {
									"name": "vectorString"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['cvssData']['baseScore']"
								},
								"sink": {
									"name": "baseScore"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['cvssData']['accessVector']"
								},
								"sink": {
									"name": "accessVector"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['cvssData']['accessComplexity']"
								},
								"sink": {
									"name": "accessComplexity"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['cvssData']['authentication']"
								},
								"sink": {
									"name": "authentication"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['cvssData']['confidentialityImpact']"
								},
								"sink": {
									"name": "confidentialityImpact"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['cvssData']['integrityImpact']"
								},
								"sink": {
									"name": "integrityImpact"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['cvssData']['availabilityImpact']"
								},
								"sink": {
									"name": "availabilityImpact"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['baseSeverity']"
								},
								"sink": {
									"name": "baseSeverity"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['exploitabilityScore']"
								},
								"sink": {
									"name": "exploitabilityScore"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['impactScore']"
								},
								"sink": {
									"name": "impactScore"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['acInsufInfo']"
								},
								"sink": {
									"name": "acInsufInfo"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['obtainAllPrivilege']"
								},
								"sink": {
									"name": "obtainAllPrivilege"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['obtainUserPrivilege']"
								},
								"sink": {
									"name": "obtainUserPrivilege"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['obtainOtherPrivilege']"
								},
								"sink": {
									"name": "obtainOtherPrivilege"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['metrics']['cvssMetricV2'][0]['userInteractionRequired']"
								},
								"sink": {
									"name": "userInteractionRequired"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['weaknesses'][0]['source']"
								},
								"sink": {
									"name": "vulnerabilities'][0]['cve_weaknesses'][0]['source"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['weaknesses'][0]['type']"
								},
								"sink": {
									"name": "vulnerabilities'][0]['cve_weaknesses'][0]['type"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['weaknesses'][0]['description'][0]['lang']"
								},
								"sink": {
									"name": "vulnerabilities'][0]['cve_weaknesses'][0]['description'][0]['lang"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['weaknesses'][0]['description'][0]['value']"
								},
								"sink": {
									"name": "vulnerabilities'][0]['cve_weaknesses'][0]['description'][0]['value"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['configurations'][0]['nodes'][0]['operator']"
								},
								"sink": {
									"name": "operator"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['configurations'][0]['nodes'][0]['negate']"
								},
								"sink": {
									"name": "negate"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['configurations'][0]['nodes'][0]['cpeMatch'][0]['vulnerable']"
								},
								"sink": {
									"name": "vulnerable"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['configurations'][0]['nodes'][0]['cpeMatch'][0]['criteria']"
								},
								"sink": {
									"name": "criteria"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['configurations'][0]['nodes'][0]['cpeMatch'][0]['matchCriteriaId']"
								},
								"sink": {
									"name": "matchCriteriaId"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['references'][0]['url']"
								},
								"sink": {
									"name": "url"
								}
							},
							{
								"source": {
									"path": "$['vulnerabilities'][0]['cve']['references'][0]['source']"
								},
								"sink": {
									"name": "vulnerabilities'][0]['cve_references'][0]['source"
								}
							}
						]
					}
				},
				"inputs": [
					{
						"referenceName": "SourceDataset",
						"type": "DatasetReference"
					}
				],
				"outputs": [
					{
						"referenceName": "DestinationDataset",
						"type": "DatasetReference"
					}
				]
			}
		],
		"annotations": []
	}
}